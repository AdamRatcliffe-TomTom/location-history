var e=require("axios"),t=require("axios-rate-limit");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/r(e),n=process.env.QPS_LIMIT||process.env.REACT_APP_QPS_LIMIT||5,i=process.env.QPS_INTERVAL||process.env.REACT_APP_QPS_INTERVAL||1e3,s=/*#__PURE__*/r(t).default(o.default.create(),{maxRequests:n,perMilliseconds:i}),a=process.env.LOCATION_HISTORY_API_BASE_URL||"https://api.tomtom.com/locationHistory/1",c=function(e){var t=e.apiKey,r=e.id;try{return Promise.resolve(s.get(a+"/objects/"+r+"?key="+t)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}};function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u.apply(this,arguments)}var p=process.env.LOCATION_HISTORY_API_BASE_URL||"https://api.tomtom.com/locationHistory/1";exports.addObject=function(e){var t=e.apiKey,r=e.adminKey,o=e.object;try{return Promise.resolve(s.post(a+"/objects?key="+t+"&adminKey="+r,o)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}},exports.clearPositionHistory=function(e){var t=e.apiKey,r=e.adminKey;try{return Promise.resolve(s.delete(p+"/history/position?key="+t+"&adminKey="+r)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}},exports.deleteObject=function(e){var t=e.apiKey,r=e.id;try{return Promise.resolve(s.delete(a+"/objects/"+r+"?key="+t)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}},exports.editObject=function(e){var t=e.apiKey,r=e.adminKey,o=e.id,n=e.object;try{return Promise.resolve(s.put(a+"/objects/"+o+"?key="+t+"&adminKey="+r,n)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}},exports.getObjectDetail=c,exports.getObjects=function(e){var t=e.apiKey;try{return Promise.resolve(s.get(a+"/objects?key="+t)).then(function(e){var r=e.data.objects.map(function(e){return c({apiKey:t,id:e.id})});return Promise.resolve(Promise.all(r))})}catch(e){return Promise.reject(e)}},exports.lastPosition=function(e){var t=e.apiKey,r=e.objectId;try{return Promise.resolve(s.get(p+"/history/position/"+r+"?key="+t)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}},exports.positionHistory=function(e){var t=e.apiKey,r=e.objectId,o=e.from,n=e.to,i=e.maxResults,a=e.pageNumber;try{var c=p+"/history/positions/"+r+"?key="+t+"&from="+o;return n&&(c+="&to="+n),i&&(c+="&maxResults="+i),a&&(c+="&pageNumber="+a),Promise.resolve(s.get(c)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}},exports.sendPosition=function(e){var t=e.apiKey,r=e.adminKey,o=e.objectId,n=e.longitude,i=e.latitude,a=e.altitude,c=e.timestamp;try{var y=p+"/history/positions?key="+t+"&adminKey="+r,m=u({type:"Feature",geometry:{type:"Point",coordinates:[n,i].concat(Boolean(a)?[a]:[])},object:o},c&&{timestamp:c});return Promise.resolve(s.post(y,m)).then(function(e){return e.data})}catch(e){return Promise.reject(e)}};
//# sourceMappingURL=index.js.map
